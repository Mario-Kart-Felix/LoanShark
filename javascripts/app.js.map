{"version":3,"file":"public/javascripts/app.js","sources":["app/application.coffee","app/controllers/base/controller.coffee","app/controllers/loans-controller.coffee","app/controllers/people-controller.coffee","app/initialize.coffee","app/lib/utils.coffee","app/lib/view-helper.coffee","app/mediator.coffee","app/models/base/collection.coffee","app/models/base/model.coffee","app/models/flash-message.coffee","app/models/item.coffee","app/models/loan.coffee","app/models/loans.coffee","app/models/people.coffee","app/models/person.coffee","app/models/value-calculator.coffee","app/routes.coffee","app/views/base/collection-view.coffee","app/views/base/view.coffee","app/views/form_elements/select-input-view.coffee","app/views/form_elements/select-option-view.coffee","app/views/form_elements/templates/option.jade","app/views/items/item-collection-view.coffee","app/views/items/item-edit-view.coffee","app/views/items/templates/item-edit.jade","app/views/layout/flash-message-view.coffee","app/views/layout/header-view.coffee","app/views/layout/site-view.coffee","app/views/layout/templates/flash-message.jade","app/views/layout/templates/header.jade","app/views/layout/templates/site.jade","app/views/loans/loan-detail-view.coffee","app/views/loans/loan-edit-view.coffee","app/views/loans/loan-view.coffee","app/views/loans/loans-view.coffee","app/views/loans/templates/loan-detail.jade","app/views/loans/templates/loan-edit.jade","app/views/loans/templates/loan.jade","app/views/loans/templates/loans.jade","app/views/people/people-view.coffee","app/views/people/person-detail-view.coffee","app/views/people/person-edit-view.coffee","app/views/people/person-view.coffee","app/views/people/templates/person-detail.jade","app/views/people/templates/person-edit.jade","app/views/people/templates/person.jade"],"names":[],"mappings":"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","sourcesContent":["People = require 'models/people'\nLoans  = require 'models/loans'\n\n# The application object.\nmodule.exports = class Application extends Chaplin.Application\n  start: ->\n    Chaplin.mediator.people.fetch()\n    Chaplin.mediator.loans.fetch()\n    super\n  #   # You can fetch some data here and start app\n  #   # (by calling `super`) after that.\n  initMediator: ->\n    Chaplin.mediator.people = new People\n    Chaplin.mediator.loans  = new Loans\n    super\n","SiteView   = require 'views/layout/site-view'\nPeople     = require 'models/people'\nLoans      = require 'models/loans'\nHeaderView = require 'views/layout/header-view'\n\nmodule.exports = class Controller extends Chaplin.Controller\n  # Compositions persist stuff between controllers.\n  # You may also persist models etc.\n  beforeAction: ->\n    @compose 'site', SiteView\n    @compose 'header', HeaderView, region: 'header'\n\n  findOrFetch: (id, collection, klass, cb) ->\n    # Look up model in mediator collection.\n    # If not found, fetch the collection and\n    # find within collection. Saves DB calls.\n    if id\n      model = collection.get(id)\n      if model\n        cb(model)\n      else\n        collection.fetch\n          success: (collection) =>\n            model = collection.get(id)\n            if model\n              cb(model)\n            else\n              cb(collection.add())\n    else\n      model = new klass\n      cb(model)\n\n  udpateModel: (model, collection, options) ->\n    if model.isNew()\n      collection.add model\n    model.set('updated_at', new Date)\n    model.save model.attributes,\n      success: (model, attrs) =>\n        options.success(model) if options.success\n      error: (model, err) ->\n        error(model, err) if error","Controller = require 'controllers/base/controller'\nLoan       = require 'models/loan'\nLoansView  = require 'views/loans/loans-view'\nLoanEditView = require 'views/loans/loan-edit-view'\n\nloans  = Chaplin.mediator.loans\npeople = Chaplin.mediator.people\n\nmodule.exports = class LoansController extends Controller\n\n  initialize: ->\n    super\n    @subscribeEvent 'saveLoan', @update\n\n  index: ->\n    @adjustTitle ''\n    @view = new LoansView region: 'main', collection: loans, detailed: true\n\n  edit: (params) ->\n    @findOrFetch params.id, loans, Loan, (model) =>\n      if params.id\n        @adjustTitle \"Edit #{model.get('item_name')} loan\"\n      else\n        @adjustTitle \"New loan\"\n\n      if params.person_id\n        model.set 'lendee_id', params.person_id\n\n      @view  = new LoanEditView\n        model: model\n        region: 'main'\n\n  update: (model, success, error) ->\n    item_name = model.get('item_name')\n    model = loans.add model\n    if model.isNew()\n      message = \"Successfully loaned out #{item_name}.\"\n    else\n      message = \"Successfully edited the loan for #{item_name}\"\n    model.set('updated_at', new Date)\n    model.save model.attributes,\n      success: (model, attrs) =>\n        success(model) if success\n        @redirectTo 'home'\n        @publishEvent 'flash_message', message\n      error: (model, err) ->\n        error(model, err) if error","Controller       = require 'controllers/base/controller'\nPerson           = require 'models/person'\nPeople           = require 'models/people'\nPeopleView       = require 'views/people/people-view'\nPersonDetailView = require 'views/people/person-detail-view'\nPersonEditView   = require 'views/people/person-edit-view'\n\nloans  = Chaplin.mediator.loans\npeople = Chaplin.mediator.people\n\nmodule.exports = class LoansController extends Controller\n\n  initialize: ->\n    super\n    @subscribeEvent 'savePerson', @update\n    @subscribeEvent 'destroyPerson', @destroy\n\n  index: ->\n    @adjustTitle \"People\"\n    @view = new PeopleView region: 'main', collection: people\n\n  edit: (params) ->\n    @findOrFetch params.id, people, Person, (model) =>\n      if params.id\n        @adjustTitle \"Edit #{model.full_name()}\"\n      else\n        @adjustTitle \"New Person\"\n      @view  = new PersonEditView\n        model: model\n        region: 'main'\n        collection: people\n\n  update: (model, success, error) ->\n    name = model.get('first_name') + \" \" + model.get('last_name')\n    if model.isNew()\n     message = \"Successfully added #{name}\"\n    else\n      message = \"Successfully edited #{name}\"\n\n    @udpateModel model, people,\n      success: (model) =>\n        @redirectTo 'person', id: model.get('_id')\n        @publishEvent 'flash_message', message\n      error: (model, err) ->\n        console.log err\n        @publishEvent 'error', err\n\n\n  show: (params) ->\n    @findOrFetch params.id, people, Person, (model) =>\n      @adjustTitle \"#{model.full_name()}\"\n      @view  = new PersonDetailView model: model, region: 'main'\n\n\n  destroy: (model) ->\n    model = people.get(model)\n    model.destroy\n      success: =>\n        message = \"#{model.get('first_name')} was sucessfully removed\"\n        @redirectTo 'people'\n        @publishEvent 'flash_message', message","Application = require 'application'\nroutes = require 'routes'\n# Initialize the application on DOM ready event.\n\ndocument.addEventListener \"DOMContentLoaded\", (->\n  document.removeEventListener \"DOMContentLoaded\"\n  new Application {\n    title: 'Loan Shark',\n    controllerSuffix: '-controller',\n    routes\n  }\n), false\n","# Application-specific utilities\n# ------------------------------\n\n# Delegate to Chaplin’s utils module.\nutils = Chaplin.utils.beget Chaplin.utils\n\n# _.extend utils,\n#  someMethod: ->\n\n# Prevent creating new properties and stuff.\nObject.seal? utils\n\nmodule.exports = utils\n","","mediator = module.exports = Chaplin.mediator\n","Model = require './model'\n\nmodule.exports = class Collection extends Chaplin.Collection\n  # Mixin a synchronization state machine.\n  # _(@prototype).extend Chaplin.SyncMachine\n  # initialize: ->\n  #   super\n  #   @on 'request', @beginSync\n  #   @on 'sync', @finishSync\n  #   @on 'error', @unsync\n\n  # Use the project base model per default, not Chaplin.Model\n  model: Model\n","# Base model.\nmodule.exports = class Model extends Chaplin.Model\n  idAttribute: '_id'\n  # Mixin a synchronization state machine.\n  # _(@prototype).extend Chaplin.SyncMachine\n  # initialize: ->\n  #   super\n  #   @on 'request', @beginSync\n  #   @on 'sync', @finishSync\n  #   @on 'error', @unsync\n","Model = require './base/model'\n\n# SiteView handles listening for `flash_message` event and creates\n# a message and a view. ex: @publishEvent 'flash_message', \"Logged in\"\n\nmodule.exports = class FlashMessage extends Model\n  defaults:\n    message: \"Something needs your attention\"\n    lifespan: 5000","Model = require '/models/base/model'\n\nmodule.exports = class Item extends Model\n","Model = require '/models/base/model'\n\nmodule.exports = class Loan extends Model\n  defaults:\n    type: 'loan'\n    reconciled: false\n  reconcile: ->\n    @set 'reconciled', true\n    @set 'date_reconciled', new Date\n    @save()\n  unreconcile: ->\n    @set 'reconciled', false\n    @unset 'date_reconciled'\n    @save()","Collection = require '/models/base/collection'\nLoan       = require '/models/loan'\n\nmodule.exports = class Loans extends Collection\n  model: Loan\n  fallbackSelector: '.empty'\n  localStorage: new Backbone.LocalStorage(\"loan_shark-loans\")\n\n  initialize: ->\n    super\n    @listenTo @, 'change', @sort\n  comparator: (a,b) ->\n    if a.get('reconciled')\n      return 1\n    else\n      return -1","Collection = require '/models/base/collection'\nPerson     = require '/models/person'\n\nmodule.exports = class People extends Collection\n  model: Person\n  localStorage: new Backbone.LocalStorage(\"loan_shark-people\")","Model = require '/models/base/model'\n\nmodule.exports = class Person extends Model\n  defaults:\n    type: 'person'\n    first_name: ''\n    last_name: ''\n    bounty: 0\n\n  initialize: ->\n    super\n    unless @isNew()\n      @calculateBounty()\n      @addBountyListener()\n\n  addBountyListener: ->\n    @listenTo Chaplin.mediator.loans, 'change remove add', (model) ->\n      if model.get('lendee_id') is @get('_id')\n        @calculateBounty()\n\n  calculateBounty: ->\n    loans = Chaplin.mediator.loans.where\n      lendee_id: @get('_id')\n      reconciled: false\n    values = loans.map (l) ->\n      parseFloat(l.get('value'))\n    if values.length is 0\n      total = 0\n    else\n      total = values.reduce (memo, val) ->\n        memo + val\n    @set 'bounty', total\n    @save()\n\n  full_name: ->\n    @get('first_name') + ' ' + @get('last_name')\n\n  destroy: ->\n    loans = Chaplin.mediator.loans.where\n      lendee_id: @get('_id')\n    for loan in loans\n      loan.destroy()\n    super","module.exports = class ValueCalculator","# Application routes.\nmodule.exports = (match) ->\n  match '',                'loans#index',  name: 'home'\n  match 'loans',           'loans#index',  name: 'loans'\n  match 'loans/new',       'loans#edit',   name: 'new_loan'\n  match 'loans/:id/edit',  'loans#edit',   name: 'edit_loan'\n\n  match 'people',          'people#index', name: 'people'\n  match 'people/new',      'people#edit',  name: 'new_person'\n  match 'people/:id',      'people#show',  name: 'person'\n  match 'people/:id/edit', 'people#edit',  name: 'edit_person'\n  match 'people/:person_id/loans/new',      'loans#edit',  name: 'person_new_loan'\n","View = require './view'\n\nmodule.exports = class CollectionView extends Chaplin.CollectionView\n  # This class doesn’t inherit from the application-specific View class,\n  # so we need to borrow the method from the View prototype:\n  getTemplateFunction: View::getTemplateFunction\n  animationDuration: 0\n","require 'lib/view-helper' # Just load the view helpers, no return value\n\nmodule.exports = class View extends Chaplin.View\n  # Auto-save `template` option passed to any view as `@template`.\n  optionNames: Chaplin.View::optionNames.concat ['template']\n  autoRender: true\n  autoBind: true\n  listen:\n    \"change model\": \"updateView\"\n\n  # Precompiled templates function initializer.\n  getTemplateFunction: ->\n    @template\n\n  render: ->\n    super\n    if @model\n      @attr_names = Object.keys(@model.attributes)\n      @updateView() if @autoBind\n\n  updateView: ->\n    for attr_name in @attr_names\n      input_el = @el.querySelector(\"[name='#{attr_name}']\")\n      if input_el\n        input_el.value = @model.get(attr_name)\n\n      text = @el.querySelector(\"[data-bind='#{attr_name}']\")\n      if text\n        text.innerHTML = @model.get(attr_name)\n\n  save: (e, success, error) ->\n    # Simple binding/mapping\n    input_els = []\n    for el in @el.getElementsByTagName(\"input\")\n      input_els.push el\n    for el in @el.getElementsByTagName(\"select\")\n      input_els.push el\n\n    input_els.forEach (el) =>\n      name = el.getAttribute('name')\n      @model.set name, el.value, silent: true\n    @publishEvent \"save#{@model.constructor.name}\", @model\n\n  destroy: (e, success, error) ->\n    e.preventDefault()\n    @publishEvent \"destroy#{@model.constructor.name}\", @model","CollectionView   = require 'views/base/collection-view'\nSelectOptionView = require './select-option-view'\n\nmodule.exports = class SelectInputView extends CollectionView\n  autoRender: true\n  tagName: 'select'\n  animationDuration: 0\n\n  initialize: (options) ->\n    super\n\n    # Pull from options to pass to option tag view\n    @value_attr  = options.value_attr\n    @label_attr  = options.label_attr\n    @name        = options.name\n    @placeholder = options.placeholder\n\n\n  render: ->\n    super\n    @el.name = @name\n    @el.placeholder = @placeholder\n\n  initItemView: (model) ->\n    # Override initItemView to pass value and label\n    # options to collection item views\n    new SelectOptionView\n      model: model\n      value_attr: @value_attr\n      label_attr: @label_attr\n      src_model: @model\n      name: @name","View = require 'views/base/view'\ntemplate = require './templates/option'\n\nmodule.exports = class SelectOptionView extends View\n  autoRender: true\n  tagName: 'option'\n\n  initialize: (options) ->\n    super\n    @src_model  = options.src_model\n    @name       = options.name\n    @value_attr = options.value_attr\n    if typeof @value_attr is 'function'\n      @value_attr = @value_attr()\n\n    @label_attr = options.label_attr\n    if typeof @label_attr is 'function'\n      @label_attr = @label_attr()\n\n  render: ->\n    super\n    @el.value = @model.get(@value_attr)\n    @el.innerHTML = @label_attr\n    if @model.get(@value_attr) is @src_model.get(@name)\n      @el.selected = true","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),first_name = locals_.first_name,last_name = locals_.last_name;\nbuf.push((jade.escape(null == (jade.interp = first_name) ? \"\" : jade.interp)) + \"&nbsp;\" + (jade.escape(null == (jade.interp = last_name) ? \"\" : jade.interp)));;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","CollectionView = require 'views/base/collection-view'\n\nmodule.exports = class ItemCollectionView extends CollectionView\n","View = require 'views/base/view'\n\nmodule.exports = class ItemEditView extends View\n  template: require './templates/item-edit'\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<h1>Hello</h1>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","View = require 'views/base/view'\n\nmodule.exports = class FlashMessageView extends View\n  autoRender: true\n  autoAttach: true\n  template: require './templates/flash-message'\n  className: 'flash'\n  events:\n    'click .dismiss': 'dismissFlash'\n\n  initialize: ->\n    super\n    @subscribeEvent 'dismissFlash', @dismissFlash\n\n  render: ->\n    super\n    # Dismiss after lifespan\n    lifespan = setTimeout =>\n      @dismissFlash()\n      clearTimeout(lifespan)\n    , @model.get('lifespan')\n\n  dismissFlash: (e) ->\n    e.preventDefault() if e\n    @model.dispose() if @model","View = require 'views/base/view'\n\nmodule.exports = class HeaderView extends View\n  autoRender: true\n  className: 'header'\n  tagName: 'header'\n  template: require './templates/header'\n","View = require 'views/base/view'\nFlashMessage = require 'models/flash-message'\nFlashMessageView = require 'views/layout/flash-message-view'\n\n# Site view is a top-level view which is bound to body.\nmodule.exports = class SiteView extends View\n  container: 'body'\n  id: 'site-container'\n  regions:\n    header: '#header-container'\n    main: '#page-container'\n    flash_messages: '#flash_messages'\n  template: require './templates/site'\n\n  initialize: ->\n    super\n    @subscribeEvent 'flash_message', @renderFlash\n    @subscribeEvent 'clear_flash_message', @clearFlash\n\n  renderFlash: (message) ->\n    @publishEvent 'dismissAlert'\n    @flashMessage  = new FlashMessage(message: message)\n    @flashMessageView = new FlashMessageView\n      model: @flashMessage\n      region: 'flash_messages'\n  clearFlash: ->\n    @flashMessage.dispose() if @flashMessage\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),message = locals_.message;\nbuf.push((jade.escape(null == (jade.interp = message) ? \"\" : jade.interp)) + \"<a href=\\\"#\\\" class=\\\"dismiss\\\">&times;</a>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<h1><a href=\\\"/\\\">Loan Shark</a></h1><nav><a href=\\\"/loans\\\">Loans</a><a href=\\\"/loans/new\\\" class=\\\"secondary\\\">New Loan</a><a href=\\\"/people\\\">People</a><a href=\\\"/people/new\\\" class=\\\"secondary\\\">New Person</a></nav>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<div id=\\\"header-container\\\" class=\\\"header-container\\\"></div><div id=\\\"user_info\\\"></div><div class=\\\"outer-page-container\\\"><div id=\\\"flash_messages\\\"></div><div id=\\\"page-container\\\" class=\\\"page-container\\\"></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","LoanView = require 'views/loans/loan-view'\nPersonView = require 'views/people/person-view'\n\nmodule.exports = class LoanDetailView extends LoanView\n  template: require './templates/loan-detail'\n\n  render: ->\n    super\n    @renderUserView()\n\n  renderUserView: ->\n    person = Chaplin.mediator.people.get @model.get('lendee_id')\n    new PersonView\n      model: person\n      el: @el.querySelector('.person')","View            = require 'views/base/view'\nPeopleView      = require 'views/people/people-view'\nSelectInputView = require 'views/form_elements/select-input-view'\nLoan            = require 'models/loan'\n\nmodule.exports = class LoanEditView extends View\n  template: require './templates/loan-edit'\n  events:\n    'click button': 'save'\n  regions:\n    people: '.people'\n\n  render: ->\n    super\n    people_select = new SelectInputView\n      collection: Chaplin.mediator.people\n      value_attr: '_id'\n      container: @el\n      name: 'lendee_id'\n      placeholder: 'Lendee'\n      region: 'people'\n      model: @model\n      label_attr: ->\n        person = this.model\n        person.get('first_name') + ' ' +\n        person.get('last_name')\n    @subview 'people_select', people_select\n\n  save: ->\n    unless @model\n      @model = new Loan()\n    super","View = require 'views/base/view'\n\nmodule.exports = class LoanView extends View\n  template: require './templates/loan'\n  events:\n    \"click .destroy\"     : \"destroy\"\n    \"click .reconcile\"   : \"reconcile\"\n    \"click .unreconcile\" : \"unreconcile\"\n\n  destroy: (e) ->\n    e.preventDefault()\n    @model.destroy()\n\n  reconcile: (e) ->\n    e.preventDefault()\n    @model.reconcile()\n    @render()\n  unreconcile: (e) ->\n    e.preventDefault()\n    @model.unreconcile()\n    @render()","CollectionView = require 'views/base/collection-view'\nLoanView       = require 'views/loans/loan-view'\nLoanDetailView = require 'views/loans/loan-detail-view'\ntemplate       = require './templates/loans'\n\nmodule.exports = class LoansView extends CollectionView\n  template: template\n  listSelector: '.loans'\n  initialize: (options) ->\n    super\n    @detailed = options.detailed\n  initItemView: (model) ->\n    if @detailed\n      new LoanDetailView model: model\n    else\n      new LoanView model: model","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),reconciled = locals_.reconciled,item_name = locals_.item_name,value = locals_.value,_id = locals_._id;\nbuf.push(\"<div\" + (jade.cls(['loan',\"\" + (reconciled ? 'reconciled' : '') + \"\"], [null,true])) + \"><h3>\" + (jade.escape(null == (jade.interp = item_name) ? \"\" : jade.interp)) + \"<span class=\\\"value\\\">\" + (jade.escape(null == (jade.interp = \" ($\" + value + \")\") ? \"\" : jade.interp)) + \"</span></h3><div class=\\\"person\\\"></div><div class=\\\"actions\\\">\");\nif ( reconciled)\n{\nbuf.push(\"<button href=\\\"#\\\" class=\\\"unreconcile\\\">Unreconcile</button>\");\n}\nelse\n{\nbuf.push(\"<button href=\\\"#\\\" class=\\\"destroy\\\">Remove</button><button href=\\\"#\\\" class=\\\"reconcile\\\">Reconcile</button><a\" + (jade.attr(\"href\", \"/loans/\" + (_id) + \"/edit\", true, false)) + \" class=\\\"edit\\\">Edit</a>\");\n}\nbuf.push(\"</div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<div class=\\\"people\\\"></div><br/><input name=\\\"item_name\\\" placeholder=\\\"Item Name\\\"/><input name=\\\"value\\\" placeholder=\\\"Value\\\"/><button>Save</button>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),reconciled = locals_.reconciled,item_name = locals_.item_name,value = locals_.value,_id = locals_._id;\nbuf.push(\"<div\" + (jade.cls(['loan',\"\" + (reconciled ? 'reconciled' : '') + \"\"], [null,true])) + \">\" + (jade.escape(null == (jade.interp = item_name) ? \"\" : jade.interp)) + (jade.escape(null == (jade.interp = \" ($\" + value + \")\") ? \"\" : jade.interp)) + \"<div class=\\\"person\\\"></div><div class=\\\"actions\\\">\");\nif ( reconciled)\n{\nbuf.push(\"<button href=\\\"#\\\" class=\\\"unreconcile\\\">Unreconcile</button>\");\n}\nelse\n{\nbuf.push(\"<button href=\\\"#\\\" class=\\\"destroy\\\">Remove</button><button href=\\\"#\\\" class=\\\"reconcile\\\">Reconcile</button><a\" + (jade.attr(\"href\", \"/loans/\" + (_id) + \"/edit\", true, false)) + \" class=\\\"edit\\\">Edit</a>\");\n}\nbuf.push(\"</div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<div class=\\\"loans\\\"></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","CollectionView = require 'views/base/collection-view'\nPersonView     = require 'views/people/person-view'\n\nmodule.exports = class PeopleView extends CollectionView\n  itemView: PersonView","PersonView = require 'views/people/person-view'\nLoansView  = require 'views/loans/loans-view'\nLoans      = require 'models/loans'\ntemplate   = require 'views/people/templates/person-detail'\n\nloans  = Chaplin.mediator.loans\n\nmodule.exports = class PersonDetailView extends PersonView\n  template: template\n  regions:\n    borrowed: '.borrowed-items'\n  render: ->\n    super\n    @renderBorrowed()\n\n  renderBorrowed: ->\n    borrowed_items = loans.where\n      lendee_id: @model.get('_id')\n    borrowed_items = new Loans(borrowed_items)\n\n    loans_view = new LoansView\n      collection: borrowed_items\n      details: false\n      region: 'borrowed'\n\n    @subview 'loans', loans_view","View       = require 'views/base/view'\nPerson     = require 'models/person'\nPeopleView = require 'views/people/people-view'\n\nmodule.exports = class PersonEditView extends View\n  template: require './templates/person-edit'\n  events:\n    'click button.save': 'save'\n    'click button.destroy': 'destroy'\n\n  save: ->\n    unless @model\n      @model = new Person()\n    super","View = require 'views/base/view'\n\nmodule.exports = class PersonView extends View\n  template: require './templates/person'\n  className: 'person'\n  events:\n    'mouseover': 'toggleControls'\n    'mouseout': 'toggleControls'\n\n  render: ->\n    super\n    @$controls = @el.querySelector(\".controls\")\n    @$controls.style.display = \"none\"\n\n  toggleControls: (e) ->\n    if e.type is 'mouseover'\n      @$controls.style.display = \"block\"\n    else\n      @$controls.style.display = \"none\"","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),first_name = locals_.first_name,last_name = locals_.last_name,_id = locals_._id,bounty = locals_.bounty;\nbuf.push(\"<h1>\" + (jade.escape(null == (jade.interp = first_name) ? \"\" : jade.interp)) + \"&nbsp;\" + (jade.escape(null == (jade.interp = last_name) ? \"\" : jade.interp)) + \"</h1><div class=\\\"controls\\\"><a\" + (jade.attr(\"href\", \"/people/\" + (_id) + \"/edit\", true, false)) + \">Edit &nbsp;\" + (jade.escape(null == (jade.interp = first_name) ? \"\" : jade.interp)) + \"</a></div><div class=\\\"details\\\"><h3>Bounty: &nbsp;<span data-bind=\\\"bounty\\\" class=\\\"bounty\\\">\" + (jade.escape(null == (jade.interp = bounty) ? \"\" : jade.interp)) + \"</span></h3></div><div class=\\\"borrowed-items\\\"></div><a\" + (jade.attr(\"href\", \"/people/\" + (_id) + \"/loans/new\", true, false)) + \">Loan something to \" + (jade.escape((jade.interp = first_name) == null ? '' : jade.interp)) + \"</a>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),_id = locals_._id;\nbuf.push(\"<input name=\\\"first_name\\\" placeholder=\\\"First Name\\\"/><input name=\\\"last_name\\\" placeholder=\\\"Last Name\\\"/><button class=\\\"save\\\">Save</button><br/><br/>\");\nif ( _id)\n{\nbuf.push(\"<button class=\\\"destroy\\\">Delete</button>\");\n};return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),_id = locals_._id,first_name = locals_.first_name,last_name = locals_.last_name;\nbuf.push(\"<a\" + (jade.attr(\"href\", \"people/\" + (_id) + \"\", true, false)) + \">\" + (jade.escape(null == (jade.interp = first_name) ? \"\" : jade.interp)) + \"&nbsp;\" + (jade.escape(null == (jade.interp = last_name) ? \"\" : jade.interp)) + \"</a><div class=\\\"controls\\\"><a\" + (jade.attr(\"href\", \"/people/\" + (_id) + \"/edit\", true, false)) + \">Edit &nbsp;\" + (jade.escape(null == (jade.interp = first_name) ? \"\" : jade.interp)) + \"</a></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}