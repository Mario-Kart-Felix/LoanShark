{"version":3,"file":"public/javascripts/app.js","sources":["app/application.coffee","app/config.coffeeenv","app/controllers/base/controller.coffee","app/controllers/loans-controller.coffee","app/controllers/people-controller.coffee","app/initialize.coffee","app/lib/utils.coffee","app/lib/view-helper.coffee","app/mediator.coffee","app/models/base/collection.coffee","app/models/base/model.coffee","app/models/error.coffee","app/models/errors.coffee","app/models/flash-message.coffee","app/models/item.coffee","app/models/loan.coffee","app/models/loans.coffee","app/models/people.coffee","app/models/person.coffee","app/models/value-calculator.coffee","app/routes.coffee","app/views/base/collection-view.coffee","app/views/base/form-view.coffee","app/views/base/view.coffee","app/views/errors/error-view.coffee","app/views/errors/errors-view.coffee","app/views/errors/templates/collection.jade","app/views/errors/templates/show.jade","app/views/form_elements/select-input-view.coffee","app/views/form_elements/select-option-view.coffee","app/views/form_elements/templates/option.jade","app/views/items/item-collection-view.coffee","app/views/items/item-edit-view.coffee","app/views/items/templates/item-edit.jade","app/views/layout/flash-message-view.coffee","app/views/layout/header-view.coffee","app/views/layout/site-view.coffee","app/views/layout/templates/flash-message.jade","app/views/layout/templates/header.jade","app/views/layout/templates/site.jade","app/views/loans/loan-detail-view.coffee","app/views/loans/loan-edit-view.coffee","app/views/loans/loan-view.coffee","app/views/loans/loans-view.coffee","app/views/loans/templates/loan-detail.jade","app/views/loans/templates/loan-edit.jade","app/views/loans/templates/loan.jade","app/views/loans/templates/loans.jade","app/views/people/people-view.coffee","app/views/people/person-detail-view.coffee","app/views/people/person-edit-view.coffee","app/views/people/person-view.coffee","app/views/people/templates/people.jade","app/views/people/templates/person-detail.jade","app/views/people/templates/person-edit.jade","app/views/people/templates/person.jade"],"names":[],"mappings":"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","sourcesContent":["People = require 'models/people'\nLoans  = require 'models/loans'\nconfig = require 'config'\n\n# The application object.\nmodule.exports = class Application extends Chaplin.Application\n  start: ->\n    Chaplin.mediator.people.fetch()\n    Chaplin.mediator.loans.fetch()\n    super\n  #   # You can fetch some data here and start app\n  #   # (by calling `super`) after that.\n  initMediator: ->\n    Chaplin.mediator.people = new People\n    Chaplin.mediator.loans  = new Loans\n    super\n\n  initRouter: (routes, options) ->\n    options.root = config.root\n    super","module.exports = {\"root\":\"/LoanShark/\"}","SiteView   = require 'views/layout/site-view'\nPeople     = require 'models/people'\nLoans      = require 'models/loans'\nHeaderView = require 'views/layout/header-view'\n\nmodule.exports = class Controller extends Chaplin.Controller\n  # Compositions persist stuff between controllers.\n  # You may also persist models etc.\n  beforeAction: ->\n    @reuse 'site', SiteView\n    @reuse 'header', HeaderView, region: 'header'\n\n  findOrFetch: (id, collection, klass, cb) ->\n    # Look up model in mediator collection.\n    # If not found, fetch the collection and\n    # find within collection. Saves DB calls.\n    if id\n      model = collection.get(id)\n      if model\n        cb(model)\n      else\n        collection.fetch\n          success: (collection) =>\n            model = collection.get(id)\n            cb(model)\n    else\n      model = new klass\n      cb(model)\n\n  udpateModel: (model, collection, options) ->\n    if model.isNew() and model.isValid()\n      model.set('created_at', new Date)\n      collection.add model\n    model.set('updated_at', new Date)\n    model.save model.attributes,\n      success: (model, attrs) =>\n        options.success(model) if options.success\n      error: (model, err) ->\n        @publishEvent 'render_error', err\n        options.error(model, err) if options.error\n","Controller = require 'controllers/base/controller'\nLoan       = require 'models/loan'\nLoansView  = require 'views/loans/loans-view'\nLoanEditView = require 'views/loans/loan-edit-view'\nPerson     = require 'models/person'\n\nloans  = Chaplin.mediator.loans\npeople = Chaplin.mediator.people\n\nmodule.exports = class LoansController extends Controller\n\n  initialize: ->\n    super\n    @subscribeEvent 'saveLoan', @update\n\n  index: ->\n    @adjustTitle ''\n    @view = new LoansView region: 'main', collection: loans, detailed: true\n\n  edit: (params) ->\n    @findOrFetch params.id, loans, Loan, (model) =>\n      if params.id\n        @adjustTitle \"Edit #{model.get('item_name')} loan\"\n      else\n        @adjustTitle \"New loan\"\n\n      if params.person_id\n        model.set 'lendee_id', params.person_id\n\n      @view  = new LoanEditView\n        model: model\n        region: 'main'\n\n  update: (model, success, error) ->\n    if model.get('first_name') or model.get('last_name')\n      @create_person model, (person, model) =>\n        model.set 'lendee_id', person.get('id')\n        model.unset('first_name').unset('last_name')\n        @persist model\n    else\n      @persist model\n\n  create_person: (model, cb) ->\n    person = new Person\n      first_name: model.get('first_name')\n      last_name:  model.get('last_name')\n    @udpateModel person, people,\n      success: (person) =>\n        cb person, model\n      error: (model, err) =>\n        console.log err\n        @publishEvent 'render_error', err\n\n  persist: (model) ->\n    item_name = model.get('item_name')\n    if model.isNew()\n      message = \"Successfully loaned out #{item_name}.\"\n    else\n      message = \"Successfully edited the loan for #{item_name}\"\n\n    @udpateModel model, loans,\n      success: (model) =>\n        @redirectTo 'home'\n        @publishEvent 'flash_message', message\n      error: (model, err) =>\n        console.log err\n        @publishEvent 'render_error', err\n","Controller       = require 'controllers/base/controller'\nPerson           = require 'models/person'\nPeople           = require 'models/people'\nPeopleView       = require 'views/people/people-view'\nPersonDetailView = require 'views/people/person-detail-view'\nPersonEditView   = require 'views/people/person-edit-view'\n\nloans  = Chaplin.mediator.loans\npeople = Chaplin.mediator.people\n\nmodule.exports = class LoansController extends Controller\n\n  initialize: ->\n    super\n    @subscribeEvent 'savePerson', @update\n    @subscribeEvent 'destroyPerson', @destroy\n\n  index: ->\n    @adjustTitle \"People\"\n    @view = new PeopleView region: 'main', collection: people\n\n  edit: (params) ->\n    @findOrFetch params.id, people, Person, (model) =>\n      if params.id\n        @adjustTitle \"Edit #{model.full_name()}\"\n      else\n        @adjustTitle \"New Person\"\n      @view  = new PersonEditView\n        model: model\n        region: 'main'\n        collection: people\n\n  update: (model, success, error) ->\n    name = model.get('first_name') + \" \" + model.get('last_name')\n    if model.isNew()\n      message = \"Successfully added #{name}\"\n    else\n      message = \"Successfully edited #{name}\"\n    @udpateModel model, people,\n      success: (model) =>\n        @redirectTo 'person', id: model.get('id')\n        @publishEvent 'flash_message', message\n      error: (model, err) =>\n        @publishEvent 'render_error', err\n\n\n  show: (params) ->\n    @findOrFetch params.id, people, Person, (model) =>\n      @adjustTitle \"#{model.full_name()}\"\n      @view  = new PersonDetailView model: model, region: 'main'\n\n\n  destroy: (model) ->\n    model = people.get(model)\n    model.destroy\n      success: =>\n        message = \"#{model.get('first_name')} was sucessfully removed\"\n        @redirectTo 'people'\n        @publishEvent 'flash_message', message","Application = require 'application'\nroutes = require 'routes'\n# Initialize the application on DOM ready event.\ndocument.onreadystatechange = ->\n  if document.readyState == \"complete\" || document.readyState == \"loaded\"\n    new Application {\n      title: 'Loan Shark',\n      controllerSuffix: '-controller',\n      routes\n    }\n","# Application-specific utilities\n# ------------------------------\n\n# Delegate to Chaplin’s utils module.\nutils = Chaplin.utils.beget Chaplin.utils\n\n# _.extend utils,\n#  someMethod: ->\n\n# Prevent creating new properties and stuff.\nObject.seal? utils\n\nmodule.exports = utils\n","# Application-specific view helpers\njade.helpers =\n  url: (routeName, params) ->\n    Chaplin.utils.reverse routeName, params\n","mediator = module.exports = Chaplin.mediator\n","Model = require './model'\n\nmodule.exports = class Collection extends Chaplin.Collection\n  # Mixin a synchronization state machine.\n  # _(@prototype).extend Chaplin.SyncMachine\n  # initialize: ->\n  #   super\n  #   @on 'request', @beginSync\n  #   @on 'sync', @finishSync\n  #   @on 'error', @unsync\n\n  # Use the project base model per default, not Chaplin.Model\n  model: Model\n","# Base model.\nmodule.exports = class Model extends Chaplin.Model\n  idAttribute: 'id'\n  # Mixin a synchronization state machine.\n  # _(@prototype).extend Chaplin.SyncMachine\n  # initialize: ->\n  #   super\n  #   @on 'request', @beginSync\n  #   @on 'sync', @finishSync\n  #   @on 'error', @unsync\n","Model = require './base/model'\n\nmodule.exports = class Error extends Model\n  defaults:\n    text: \"Something went wrong\"","Error = require 'models/error'\nCollection = require './base/collection'\n\nmodule.exports = class Errors extends Collection\n  model: Error","Model = require './base/model'\n\n# SiteView handles listening for `flash_message` event and creates\n# a message and a view. ex: @publishEvent 'flash_message', \"Logged in\"\n\nmodule.exports = class FlashMessage extends Model\n  defaults:\n    message: \"Something needs your attention\"\n    lifespan: 5000","Model = require '/models/base/model'\n\nmodule.exports = class Item extends Model\n","Model = require '/models/base/model'\n\n\nmodule.exports = class Loan extends Model\n  defaults:\n    type: 'loan'\n    reconciled: false\n    interest_rate: .2\n  reconcile: ->\n    @set 'reconciled', true\n    @set 'date_reconciled', new Date\n    @save()\n  unreconcile: ->\n    @set 'reconciled', false\n    @unset 'date_reconciled'\n    @save()\n\n  save: ->\n    @updateBounties() if @isValid()\n    super\n  destroy: ->\n    super\n    @updateBounties()\n  updateBounties: ->\n    people = Chaplin.mediator.people\n    lendee = people.get(@get('lendee_id'))\n    lendee.calculateBounty() if lendee\n\n  getDaysPastDue: ->\n    if @get 'created_at'\n      dateDiff = new Date() - new Date(@get 'created_at')\n      Math.floor dateDiff/86400000\n    else 0\n\n  calculateInterest: ->\n    initialValue = parseInt(@get 'value')\n    totalOwed = initialValue\n    interest = @get 'interest_rate'\n    daysPastDue = @getDaysPastDue()\n\n    if daysPastDue != 0\n      for days in [1..daysPastDue]\n        totalOwed += totalOwed*interest\n\n      totalOwed - initialValue\n    else 0\n\n  getTotalValue: ->\n    parseInt(@get 'value') + @calculateInterest()\n\n  validate: (attrs) ->\n    errors = []\n    if attrs.item_name is ''\n      errors.push \"Make a note of what the loan is for. That description field is required.\"\n    if attrs.value is ''\n      errors.push \"Add a value so we can calculate a bounty on this person's head.\"\n    return errors if errors.length\n","Collection = require '/models/base/collection'\nLoan       = require '/models/loan'\n\nmodule.exports = class Loans extends Collection\n  model: Loan\n  fallbackSelector: '.empty'\n  localStorage: new Backbone.LocalStorage(\"loan_shark-loans\")\n\n  initialize: ->\n    super\n    @listenTo @, 'change', @sort\n  comparator: (a,b) ->\n    if a.get('reconciled')\n      return 1\n    else\n      return -1","Collection = require '/models/base/collection'\nPerson     = require '/models/person'\n\nmodule.exports = class People extends Collection\n  model: Person\n  localStorage: new Backbone.LocalStorage(\"loan_shark-people\")\n\n  initialize: ->\n    super\n    @subscribeEvent 'lendee_change', @recalcBounty\n  recalcBounty: (person) ->\n    person = @get(person)\n    @get(person).calculateBounty()","Model = require '/models/base/model'\n\nmodule.exports = class Person extends Model\n  defaults:\n    type: 'person'\n    first_name: ''\n    last_name: ''\n    bounty: 0\n\n  calculateBounty: ->\n    loans = Chaplin.mediator.loans.where\n      lendee_id: @get('id')\n      reconciled: false\n    values = loans.map (l) ->\n      parseFloat(l.get('value'))\n    if values.length is 0\n      total = 0\n    else\n      total = values.reduce (memo, val) ->\n        memo + val\n    @set 'bounty', total\n    @save()\n\n  full_name: ->\n    @get('first_name') + ' ' + @get('last_name')\n\n  destroy: ->\n    loans = Chaplin.mediator.loans.where\n      lendee_id: @get('id')\n    for loan in loans\n      loan.destroy()\n    super\n\n  validate: (attrs) ->\n    errors = []\n    if attrs.first_name is '' or attrs.last_name is ''\n      errors.push \"We're going to need a name to harass them by later...\"\n    return errors if errors.length\n","module.exports = class ValueCalculator","# Application routes.\nmodule.exports = (match) ->\n  match '',                'loans#index',  name: 'home'\n  match 'loans',           'loans#index',  name: 'loans'\n  match 'loans/new',       'loans#edit',   name: 'new_loan'\n  match 'loans/:id/edit',  'loans#edit',   name: 'edit_loan'\n\n  match 'people',          'people#index', name: 'people'\n  match 'people/new',      'people#edit',  name: 'new_person'\n  match 'people/:id',      'people#show',  name: 'person'\n  match 'people/:id/edit', 'people#edit',  name: 'edit_person'\n  match 'people/:person_id/loans/new',      'loans#edit',  name: 'person_new_loan'\n","View = require './view'\n\nmodule.exports = class CollectionView extends Chaplin.CollectionView\n  # This class doesn’t inherit from the application-specific View class,\n  # so we need to borrow the method from the View prototype:\n  getTemplateFunction: View::getTemplateFunction\n  animationDuration: 0\n","View = require './view'\nErrorsCollection = require 'models/errors'\nErrorsView = require 'views/errors/errors-view'\nError = require 'models/error'\n\nmodule.exports = class FormView extends View\n  autoRender: true\n  regions:\n    'errors': '.errors'\n  initialize: ->\n    super\n    @errors = new ErrorsCollection()\n    @subscribeEvent 'render_error', @renderError\n  render: ->\n    super\n    @errors_view = new ErrorsView\n      collection: @errors\n      container: @el.querySelector('.errors')\n      autoRender: true\n    if @model\n      @listenTo @model, 'invalid', (model, error) =>\n        @renderError(error)\n\n  renderError: (error, model) ->\n    @errors.reset()\n    @errors_view.render()\n    if typeof error is 'string'\n      errorObj =\n        text: error\n      @errors.add(errorObj)\n    else if typeof error is 'object'\n      for err in error\n        errorObj =\n          text: err\n        @errors.add(errorObj)\n    else\n      console.log error","require 'lib/view-helper' # Just load the view helpers, no return value\n\nmodule.exports = class View extends Chaplin.View\n  # Auto-save `template` option passed to any view as `@template`.\n  optionNames: Chaplin.View::optionNames.concat ['template']\n  autoRender: true\n  autoBind: true\n  listen:\n    \"change model\": \"updateView\"\n\n  # Precompiled templates function initializer.\n  getTemplateFunction: ->\n    @template\n\n  render: ->\n    super\n    if @model\n      @attr_names = Object.keys(@model.attributes)\n      @updateView() if @autoBind\n\n  updateView: ->\n    for attr_name in @attr_names\n      input_el = @el.querySelector(\"[name='#{attr_name}']\")\n      if input_el\n        input_el.value = @model.get(attr_name)\n\n      text = @el.querySelector(\"[data-bind='#{attr_name}']\")\n      if text\n        text.innerHTML = @model.get(attr_name)\n\n  save: (e, success, error) ->\n    e.preventDefault()\n    # Simple binding/mapping\n    input_els = []\n    for el in @el.getElementsByTagName(\"input\")\n      input_els.push el\n    for el in @el.getElementsByTagName(\"select\")\n      input_els.push el\n\n    input_els.forEach (el) =>\n      name = el.getAttribute('name')\n      @model.set name, el.value, silent: true\n    @publishEvent \"save#{@model.constructor.name}\", @model\n\n  destroy: (e, success, error) ->\n    e.preventDefault()\n    @publishEvent \"destroy#{@model.constructor.name}\", @model","View     = require 'views/base/view'\ntemplate = require './templates/show'\n\nmodule.exports = class ErrorView extends View\n  template: template\n  className: 'error'\n  autoRender: true\n  autoAttach: true\n\n  render: ->\n    super","CollectionView = require 'views/base/collection-view'\nErrorView      = require './error-view'\ntemplate       = require './templates/collection'\n\nmodule.exports = class ErrorsView extends CollectionView\n  itemView: ErrorView\n  animationDuration: 0\n  listen:\n    'add collection': 'showView'\n\n  render: ->\n    super\n    if @collection.length == 0\n      @el.style.display = 'none'\n  showView: ->\n    if @collection.length > 0\n      @el.style.display = ''","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<div class=\\\"list\\\"></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),text = locals_.text;\nbuf.push(jade.escape(null == (jade.interp = text) ? \"\" : jade.interp));;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","CollectionView   = require 'views/base/collection-view'\nSelectOptionView = require './select-option-view'\n\nmodule.exports = class SelectInputView extends CollectionView\n  autoRender: true\n  tagName: 'select'\n  animationDuration: 0\n\n  initialize: (options) ->\n    super\n\n    # Pull from options to pass to option tag view\n    @value_attr  = options.value_attr\n    @label_attr  = options.label_attr\n    @name        = options.name\n    @placeholder = options.placeholder\n    @extra_ops   = options.extra_options\n\n\n  render: ->\n    super\n    @el.name = @name\n    @el.placeholder = @placeholder\n    for option in @extra_ops\n      if option.method is 'append'\n        index = @subviews.length\n      else\n        index = 0\n      view = new SelectOptionView\n        model: null\n        value: option.value\n        label_attr: option.label\n        src_model: @model\n        name: @name\n\n      @insertView null, view, index\n\n  initItemView: (model) ->\n    # Override initItemView to pass value and label\n    # options to collection item views\n    new SelectOptionView\n      model: model\n      value_attr: @value_attr\n      label_attr: @label_attr\n      src_model: @model\n      name: @name","View = require 'views/base/view'\ntemplate = require './templates/option'\n\nmodule.exports = class SelectOptionView extends View\n  autoRender: true\n  tagName: 'option'\n\n  initialize: (options) ->\n    super\n    @src_model  = options.src_model\n    @name       = options.name\n    @value_attr = options.value_attr\n    @value      = options.value\n\n    if typeof @value_attr is 'function'\n      @value_attr = @value_attr()\n\n    @label_attr = options.label_attr\n    if typeof @label_attr is 'function'\n      @label_attr = @label_attr()\n\n  render: ->\n    super\n    @el.innerHTML = @label_attr\n    if @model\n      # get model attribute if model\n      @el.value = @model.get(@value_attr)\n      if @model.get(@value_attr) is @src_model.get(@name)\n        @el.selected = true\n    else\n      # use supplied value for model-less options\n      @el.value = @value","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),first_name = locals_.first_name,last_name = locals_.last_name;\nbuf.push((jade.escape(null == (jade.interp = first_name) ? \"\" : jade.interp)) + \"&nbsp;\" + (jade.escape(null == (jade.interp = last_name) ? \"\" : jade.interp)));;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","CollectionView = require 'views/base/collection-view'\n\nmodule.exports = class ItemCollectionView extends CollectionView\n","View = require 'views/base/view'\n\nmodule.exports = class ItemEditView extends View\n  template: require './templates/item-edit'\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<h1>Hello</h1>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","View = require 'views/base/view'\n\nmodule.exports = class FlashMessageView extends View\n  autoRender: true\n  autoAttach: true\n  template: require './templates/flash-message'\n  className: 'flash'\n  events:\n    'click .dismiss': 'dismissFlash'\n\n  initialize: ->\n    super\n    @subscribeEvent 'dismissFlash', @dismissFlash\n\n  render: ->\n    super\n    # Dismiss after lifespan\n    lifespan = setTimeout =>\n      @dismissFlash()\n      clearTimeout(lifespan)\n    , @model.get('lifespan')\n\n  dismissFlash: (e) ->\n    e.preventDefault() if e\n    @model.dispose() if @model","View = require 'views/base/view'\n\nmodule.exports = class HeaderView extends View\n  autoRender: true\n  className: 'header'\n  tagName: 'header'\n  template: require './templates/header'\n","View = require 'views/base/view'\nFlashMessage = require 'models/flash-message'\nFlashMessageView = require 'views/layout/flash-message-view'\n\n# Site view is a top-level view which is bound to body.\nmodule.exports = class SiteView extends View\n  container: 'body'\n  id: 'site-container'\n  regions:\n    header: '#header-container'\n    main: '#page-container'\n    flash_messages: '#flash_messages'\n  template: require './templates/site'\n\n  initialize: ->\n    super\n    @subscribeEvent 'flash_message', @renderFlash\n    @subscribeEvent 'clear_flash_message', @clearFlash\n\n  renderFlash: (message) ->\n    @publishEvent 'dismissAlert'\n    @flashMessage  = new FlashMessage(message: message)\n    @flashMessageView = new FlashMessageView\n      model: @flashMessage\n      region: 'flash_messages'\n  clearFlash: ->\n    @flashMessage.dispose() if @flashMessage\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),message = locals_.message;\nbuf.push((jade.escape(null == (jade.interp = message) ? \"\" : jade.interp)) + \"<a href=\\\"#\\\" class=\\\"dismiss\\\">&times;</a>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<h1><a\" + (jade.attr(\"href\", jade.helpers.url('home'), true, false)) + \">Loan Shark</a></h1><nav><a\" + (jade.attr(\"href\", jade.helpers.url('loans'), true, false)) + \">Loans</a><a\" + (jade.attr(\"href\", jade.helpers.url('new_loan'), true, false)) + \" class=\\\"secondary\\\">New Loan</a><a\" + (jade.attr(\"href\", jade.helpers.url('people'), true, false)) + \">People</a><a\" + (jade.attr(\"href\", jade.helpers.url('new_person'), true, false)) + \" class=\\\"secondary\\\">New Person</a></nav>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<div id=\\\"header-container\\\" class=\\\"header-container\\\"></div><div id=\\\"user_info\\\"></div><div class=\\\"outer-page-container\\\"><div id=\\\"flash_messages\\\"></div><div id=\\\"page-container\\\" class=\\\"page-container\\\"></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","LoanView = require 'views/loans/loan-view'\nPersonView = require 'views/people/person-view'\n\nmodule.exports = class LoanDetailView extends LoanView\n  template: require './templates/loan-detail'\n\n  render: ->\n    super\n    @renderUserView()\n    @el.querySelector('.daysPastDue').innerHTML = @model.getDaysPastDue()\n    @el.querySelector('.compoundInterest').innerHTML = @model.calculateInterest()\n    @el.querySelector('.compoundValue').innerHTML = @model.getTotalValue()\n\n  renderUserView: ->\n    person = Chaplin.mediator.people.get @model.get('lendee_id')\n    new PersonView\n      model: person\n      el: @el.querySelector('.person')","View            = require 'views/base/form-view'\nPeopleView      = require 'views/people/people-view'\nPersonEditView  = require 'views/people/person-edit-view'\nSelectInputView = require 'views/form_elements/select-input-view'\nLoan            = require 'models/loan'\n\nmodule.exports = class LoanEditView extends View\n  template: require './templates/loan-edit'\n  events:\n    'submit form': 'save'\n    'change select': 'checkOption'\n  regions:\n    people: '.people'\n    new_person: '.new-person'\n\n  render: ->\n    super\n    people_select = new SelectInputView\n      collection: Chaplin.mediator.people\n      value_attr: 'id'\n      extra_options: [\n        label: '> Somebody new <', value: 'new-person', method: 'append'\n      ]\n      container: @el\n      name: 'lendee_id'\n      placeholder: 'Lendee'\n      region: 'people'\n      model: @model\n      label_attr: ->\n        person = this.model\n        person.get('first_name') + ' ' +\n        person.get('last_name')\n    @subview 'people_select', people_select\n    @checkOption()\n\n  save: (e) ->\n    new_lendee = @el.querySelector(\"[name='lendee_id']\").value\n    old_lendee = @model.get('lendee_id')\n    unless @model\n      @model = new Loan()\n    super\n    if old_lendee and new_lendee != old_lendee and @model.isValid()\n      @publishEvent 'lendee_change', old_lendee\n\n  checkOption: (e) ->\n    select = @subview('people_select').el\n    if select.value is 'new-person'\n      person_view = new PersonEditView\n        region: 'new_person'\n        embedded: true\n      @subview 'new_person', person_view\n    else\n      @removeSubview 'new_person' if @subview 'new_person'\n","View = require 'views/base/view'\n\nmodule.exports = class LoanView extends View\n  template: require './templates/loan'\n  events:\n    \"click .destroy\"     : \"destroy\"\n    \"click .reconcile\"   : \"reconcile\"\n    \"click .unreconcile\" : \"unreconcile\"\n\n  render: ->\n    super\n\n  destroy: (e) ->\n    e.preventDefault()\n    @model.destroy()\n\n  reconcile: (e) ->\n    e.preventDefault()\n    @model.reconcile()\n    @render()\n  unreconcile: (e) ->\n    e.preventDefault()\n    @model.unreconcile()\n    @render()","CollectionView = require 'views/base/collection-view'\nLoanView       = require 'views/loans/loan-view'\nLoanDetailView = require 'views/loans/loan-detail-view'\ntemplate       = require './templates/loans'\n\nmodule.exports = class LoansView extends CollectionView\n  template: template\n  listSelector: '.loans'\n  fallbackSelector: '.empty'\n  initialize: (options) ->\n    super\n    @lendee   = options.lendee\n    @detailed = options.detailed\n  render: ->\n    super\n    if @lendee\n      @el.querySelector('.target-lendee').innerHTML = @lendee.get('first_name')\n      loan_link = @el.querySelector('.new-loan-link')\n      loan_link.parentNode.removeChild(loan_link)\n  initItemView: (model) ->\n    if @detailed\n      new LoanDetailView model: model, details: true\n    else\n      new LoanView model: model","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),reconciled = locals_.reconciled,item_name = locals_.item_name,value = locals_.value,id = locals_.id;\nbuf.push(\"<div\" + (jade.cls(['loan',\"\" + (reconciled ? 'reconciled' : '') + \"\"], [null,true])) + \"><h3>\" + (jade.escape(null == (jade.interp = item_name) ? \"\" : jade.interp)) + \"<span> ($</span><span class=\\\"compoundValue\\\"></span><span>)</span></h3><ul class=\\\"stats\\\"><li>Original Value: <span class=\\\"value\\\">\" + (jade.escape(null == (jade.interp = \" $\" + value ) ? \"\" : jade.interp)) + \"</span></li><li>Days Past Due: <span class=\\\"daysPastDue\\\"></span></li><li>Compound Interest Accrued: $<span class=\\\"compoundInterest\\\"></span></li></ul><div class=\\\"person\\\"></div><div class=\\\"actions\\\">\");\nif ( reconciled)\n{\nbuf.push(\"<button href=\\\"#\\\" class=\\\"unreconcile\\\">Unreconcile</button>\");\n}\nelse\n{\nbuf.push(\"<button href=\\\"#\\\" class=\\\"destroy\\\">Remove</button><button href=\\\"#\\\" class=\\\"reconcile\\\">Reconcile</button><a\" + (jade.attr(\"href\", jade.helpers.url('edit_loan', {id: id}), true, false)) + \" class=\\\"edit\\\">Edit</a>\");\n}\nbuf.push(\"</div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<form><div class=\\\"errors\\\"></div><div class=\\\"people\\\"></div><div class=\\\"new-person\\\"></div><br/><input name=\\\"item_name\\\" placeholder=\\\"Item Name or description\\\"/><input name=\\\"value\\\" placeholder=\\\"$ Value\\\" type=\\\"number\\\"/><button>Save</button></form>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),reconciled = locals_.reconciled,item_name = locals_.item_name,value = locals_.value,id = locals_.id;\nbuf.push(\"<div\" + (jade.cls(['loan',\"\" + (reconciled ? 'reconciled' : '') + \"\"], [null,true])) + \">\" + (jade.escape(null == (jade.interp = item_name) ? \"\" : jade.interp)) + (jade.escape(null == (jade.interp = \" ($\" + value + \")\") ? \"\" : jade.interp)) + \"<div class=\\\"person\\\"></div><div class=\\\"actions\\\">\");\nif ( reconciled)\n{\nbuf.push(\"<button href=\\\"#\\\" class=\\\"unreconcile\\\">Unreconcile</button>\");\n}\nelse\n{\nbuf.push(\"<button href=\\\"#\\\" class=\\\"destroy\\\">Remove</button><button href=\\\"#\\\" class=\\\"reconcile\\\">Reconcile</button><a\" + (jade.attr(\"href\", jade.helpers.url('edit_loan', {id: id}), true, false)) + \" class=\\\"edit\\\">Edit</a>\");\n}\nbuf.push(\"</div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<div class=\\\"loans\\\"></div><div class=\\\"empty\\\"><h4>You don't have power over&nbsp;<span class=\\\"target-lendee\\\">anyone.&nbsp;</span><a\" + (jade.attr(\"href\", jade.helpers.url('new_loan'), true, false)) + \" class=\\\"new-loan-link\\\">Loan something out.</a></h4></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","CollectionView = require 'views/base/collection-view'\nPersonView     = require 'views/people/person-view'\ntemplate       = require 'views/people/templates/people'\n\nmodule.exports = class PeopleView extends CollectionView\n  itemView: PersonView\n  template: template\n  listSelector: '.people'\n  fallbackSelector: '.empty'","PersonView = require 'views/people/person-view'\nLoansView  = require 'views/loans/loans-view'\nLoans      = require 'models/loans'\ntemplate   = require 'views/people/templates/person-detail'\n\nloans  = Chaplin.mediator.loans\n\nmodule.exports = class PersonDetailView extends PersonView\n  template: template\n  regions:\n    borrowed: '.borrowed-items'\n  render: ->\n    super\n    @renderBorrowed()\n\n  renderBorrowed: ->\n    borrowed_items = loans.where\n      lendee_id: @model.get('id')\n    borrowed_items = new Loans(borrowed_items)\n\n    loans_view = new LoansView\n      collection: borrowed_items\n      lendee: @model\n      details: false\n      region: 'borrowed'\n\n    @subview 'loans', loans_view","View       = require 'views/base/form-view'\nPerson     = require 'models/person'\nPeopleView = require 'views/people/people-view'\n\nmodule.exports = class PersonEditView extends View\n  template: require './templates/person-edit'\n  events:\n    'submit form' : 'save'\n    'click button.destroy': 'destroy'\n  initialize: (options) ->\n    super\n    @embedded = options.embedded\n  render: ->\n    super\n    if @embedded\n      button = @el.querySelector('button')\n      @el.removeChild button\n  save: (e) ->\n    e.preventDefault()\n    unless @model\n      @model = new Person()\n    super","View = require 'views/base/view'\n\nmodule.exports = class PersonView extends View\n  template: require './templates/person'\n  className: 'person'\n  events:\n    'mouseover': 'toggleControls'\n    'mouseout': 'toggleControls'\n\n  render: ->\n    super\n    @$controls = @el.querySelector(\".controls\")\n    @$controls.style.display = \"none\"\n\n  toggleControls: (e) ->\n    if e.type is 'mouseover'\n      @$controls.style.display = \"block\"\n    else\n      @$controls.style.display = \"none\"","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<div class=\\\"people\\\"></div><div class=\\\"empty\\\"><h4>What, do you not know anyone?&nbsp;<a\" + (jade.attr(\"href\", jade.helpers.url('new_person'), true, false)) + \">Add some people,&nbsp;</a>loser.</h4></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),first_name = locals_.first_name,last_name = locals_.last_name,id = locals_.id,bounty = locals_.bounty;\nbuf.push(\"<h1>\" + (jade.escape(null == (jade.interp = first_name) ? \"\" : jade.interp)) + \"&nbsp;\" + (jade.escape(null == (jade.interp = last_name) ? \"\" : jade.interp)) + \"</h1><div class=\\\"controls\\\"><a\" + (jade.attr(\"href\", jade.helpers.url('edit_person', {id: id}), true, false)) + \">Edit &nbsp;\" + (jade.escape(null == (jade.interp = first_name) ? \"\" : jade.interp)) + \"</a></div><div class=\\\"details\\\"><h3>Bounty: &nbsp;<span data-bind=\\\"bounty\\\" class=\\\"bounty\\\">\" + (jade.escape(null == (jade.interp = bounty) ? \"\" : jade.interp)) + \"</span></h3></div><div class=\\\"borrowed-items\\\"></div><a\" + (jade.attr(\"href\", jade.helpers.url('person_new_loan', {person_id: id}), true, false)) + \">Loan something to \" + (jade.escape((jade.interp = first_name) == null ? '' : jade.interp)) + \"</a>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),id = locals_.id;\nbuf.push(\"<form><div class=\\\"errors\\\"></div><input name=\\\"first_name\\\" placeholder=\\\"First Name\\\"/><input name=\\\"last_name\\\" placeholder=\\\"Last Name\\\"/><button class=\\\"save\\\">Save</button><br/><br/>\");\nif ( id)\n{\nbuf.push(\"<button class=\\\"destroy\\\">Delete</button>\");\n}\nbuf.push(\"</form>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),id = locals_.id,first_name = locals_.first_name,last_name = locals_.last_name;\nbuf.push(\"<a\" + (jade.attr(\"href\", jade.helpers.url('person', {id: id}), true, false)) + \">\" + (jade.escape(null == (jade.interp = first_name) ? \"\" : jade.interp)) + \"&nbsp;\" + (jade.escape(null == (jade.interp = last_name) ? \"\" : jade.interp)) + \"</a><div class=\\\"controls\\\"><a\" + (jade.attr(\"href\", jade.helpers.url('edit_person', {id: id}), true, false)) + \">Edit &nbsp;\" + (jade.escape(null == (jade.interp = first_name) ? \"\" : jade.interp)) + \"</a></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}